<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DineEase Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
          darkMode: "class",
          theme: {
            extend: {
              colors: {
                "primary": "#38e079",
                "background-light": "#f6f8f7",
                "background-dark": "#122017",
              },
              fontFamily: {
                "display": ["Work Sans"]
              },
            },
          },
        }
    </script>
    <style>
        /* Custom styles can go here if needed */
        :root {
            --primary: #39E079;
            --primary-600: #4f46e5;
        }

        .btn {
            @apply px-4 py-2 rounded-md text-white font-semibold shadow-md transition-transform transform hover:scale-105;
        }
        .kitchen-action-btn {
            @apply px-4 py-2 rounded-lg text-sm font-semibold text-white;
        }
        .start-cooking-btn { @apply bg-blue-600 hover:bg-blue-700; }
        .mark-ready-btn { @apply bg-green-600 hover:bg-green-700; }

        .material-symbols-outlined {
          font-variation-settings:
          'FILL' 1,
          'wght' 400,
          'GRAD' 0,
          'opsz' 24
        }
        .nav-link {
            @apply flex items-center gap-3 px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-primary/10 dark:hover:bg-primary/20;
        }
        .nav-link.active {
            @apply bg-primary/20 text-primary font-semibold;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-gray-800 dark:text-gray-200">


    <div id="homepage" class="min-h-screen flex flex-col">
        <header class="bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm sticky top-0 z-50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-20 border-b border-primary/20 dark:border-primary/10">
                    <div class="flex items-center space-x-3">
                        <svg class="h-8 w-8 text-primary" fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13.8261 17.4264C16.7203 18.1174 20.2244 18.5217 24 18.5217C27.7756 18.5217 31.2797 18.1174 34.1739 17.4264C36.9144 16.7722 39.9967 15.2331 41.3563 14.1648L24.8486 40.6391C24.4571 41.267 23.5429 41.267 23.1514 40.6391L6.64374 14.1648C8.00331 15.2331 11.0856 16.7722 13.8261 17.4264Z" fill="currentColor"></path>
                            <path clip-rule="evenodd" d="M39.998 12.236C39.9944 12.2537 39.9875 12.2845 39.9748 12.3294C39.9436 12.4399 39.8949 12.5741 39.8346 12.7175C39.8168 12.7597 39.7989 12.8007 39.7813 12.8398C38.5103 13.7113 35.9788 14.9393 33.7095 15.4811C30.9875 16.131 27.6413 16.5217 24 16.5217C20.3587 16.5217 17.0125 16.131 14.2905 15.4811C12.0012 14.9346 9.44505 13.6897 8.18538 12.8168C8.17384 12.7925 8.16216 12.767 8.15052 12.7408C8.09919 12.6249 8.05721 12.5114 8.02977 12.411C8.00356 12.3152 8.00039 12.2667 8.00004 12.2612C8.00004 12.261 8 12.2607 8.00004 12.2612C8.00004 12.2359 8.0104 11.9233 8.68485 11.3686C9.34546 10.8254 10.4222 10.2469 11.9291 9.72276C14.9242 8.68098 19.1919 8 24 8C28.8081 8 33.0758 8.68098 36.0709 9.72276C37.5778 10.2469 38.6545 10.8254 39.3151 11.3686C39.9006 11.8501 39.9857 12.1489 39.998 12.236ZM4.95178 15.2312L21.4543 41.6973C22.6288 43.5809 25.3712 43.5809 26.5457 41.6973L43.0534 15.223C43.0709 15.1948 43.0878 15.1662 43.104 15.1371L41.3563 14.1648C43.104 15.1371 43.1038 15.1374 43.104 15.1371L43.1051 15.135L43.1065 15.1325L43.1101 15.1261L43.1199 15.1082C43.1276 15.094 43.1377 15.0754 43.1497 15.0527C43.1738 15.0075 43.2062 14.9455 43.244 14.8701C43.319 14.7208 43.4196 14.511 43.5217 14.2683C43.6901 13.8679 44 13.0689 44 12.2609C44 10.5573 43.003 9.22254 41.8558 8.2791C40.6947 7.32427 39.1354 6.55361 37.385 5.94477C33.8654 4.72057 29.133 4 24 4C18.867 4 14.1346 4.72057 10.615 5.94478C8.86463 6.55361 7.30529 7.32428 6.14419 8.27911C4.99695 9.22255 3.99999 10.5573 3.99999 12.2609C3.99999 13.1275 4.29264 13.9078 4.49321 14.3607C4.60375 14.6102 4.71348 14.8196 4.79687 14.9689C4.83898 15.0444 4.87547 15.1065 4.9035 15.1529C4.91754 15.1762 4.92954 15.1957 4.93916 15.2111L4.94662 15.223L4.95178 15.2312ZM35.9868 18.996L24 38.22L12.0131 18.996C12.4661 19.1391 12.9179 19.2658 13.3617 19.3718C16.4281 20.1039 20.0901 20.5217 24 20.5217C27.9099 20.5217 31.5719 20.1039 34.6383 19.3718C35.082 19.2658 35.5339 19.1391 35.9868 18.996Z" fill="currentColor" fill-rule="evenodd"></path>
                        </svg>
                        <span class="text-2xl font-bold text-gray-900 dark:text-white">DineEase</span>
                    </div>
                    <nav class="hidden md:flex items-center space-x-8">
                        <button id="show-support-modal" class="text-base font-medium text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors">Support</button>
                    </nav>
                    <div class="flex items-center space-x-2">
                        <button id="show-login-modal" class="px-4 py-2 text-base font-semibold rounded-lg bg-primary/10 text-primary hover:bg-primary/20 dark:bg-primary/20 dark:hover:bg-primary/30 transition-colors">
                            Sign In
                        </button>
                    </div>
                </div>
            </div>
        </header>
        <main class="flex-grow">
            <section class="py-20 sm:py-24 lg:py-32">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="grid lg:grid-cols-2 gap-12 items-center">
                        <div class="text-center lg:text-left">
                            <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-gray-900 dark:text-white tracking-tight">
                                Streamline Your Restaurant Operations
                            </h1>
                            <p class="mt-6 text-lg text-gray-600 dark:text-gray-300 max-w-xl mx-auto lg:mx-0">
                                DineEase simplifies table booking, order management, and billing, enhancing coordination, reducing errors, and accelerating service.
                            </p>
                        </div>
                        <div class="relative">
                            <div class="aspect-[4/3] bg-cover bg-center rounded-xl shadow-2xl" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCaQvTFhEfnWP2EZHrsKuiozM8-TGhJQI4Ve7rxi-REtZ53OZnHcFT7GxXOEckJCbje5Mta-rMv1lF_0ptYe2uslEFr-Mm_ZGlm9NwzmDUbeEGzLgA21wEKeGUtft1MpFL2XV3SEoeEgkiM7nx5uZ-bOvzrluii522Tb17jaIzGaQc3k-bEMZ9PvqHlrT_HE6IcSMlVIr0s23rLG7nVwIs5207pE5yjbisRapuq1XiQnElTC3QqF1F54k3Hwt3Au4SF5EQwQbNsFpw");'></div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="py-20 sm:py-24 bg-white dark:bg-background-dark/50">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-16">
                        <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-white tracking-tight">
                            Functionalities of Proposed System
                        </h2>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                        <!-- Admin Card -->
                        <div class="bg-background-light dark:bg-gray-800 p-6 rounded-xl shadow-lg">
                            <h3 class="text-xl font-bold mb-4 text-primary">Admin</h3>
                            <ul class="space-y-2 text-gray-600 dark:text-gray-300 list-disc list-inside">
                                <li>Manage staff details and assign roles.</li>
                                <li>Add, edit, or remove menu items.</li>
                                <li>View daily sales and order reports.</li>
                            </ul>
                        </div>
                        <!-- Waiter Card -->
                        <div class="bg-background-light dark:bg-gray-800 p-6 rounded-xl shadow-lg">
                            <h3 class="text-xl font-bold mb-4 text-primary">Waiter/Staff</h3>
                            <ul class="space-y-2 text-gray-600 dark:text-gray-300 list-disc list-inside">
                                <li>Book and manage tables.</li>
                                <li>Record new customer orders.</li>
                                <li>Modify or cancel orders before preparation.</li>
                            </ul>
                        </div>
                        <!-- Kitchen Card -->
                        <div class="bg-background-light dark:bg-gray-800 p-6 rounded-xl shadow-lg">
                            <h3 class="text-xl font-bold mb-4 text-primary">Kitchen Staff</h3>
                            <ul class="space-y-2 text-gray-600 dark:text-gray-300 list-disc list-inside">
                                <li>View all incoming orders with table number.</li>
                                <li>Mark orders as "In Progress" or "Ready".</li>
                            </ul>
                        </div>
                        <!-- Cashier Card -->
                        <div class="bg-background-light dark:bg-gray-800 p-6 rounded-xl shadow-lg">
                            <h3 class="text-xl font-bold mb-4 text-primary">Cashier</h3>
                            <ul class="space-y-2 text-gray-600 dark:text-gray-300 list-disc list-inside">
                                <li>Generate bills with tax included.</li>
                                <li>Update payment status.</li>
                                <li>Maintain records of bills and payments.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <footer class="bg-background-light dark:bg-background-dark border-t border-primary/20 dark:border-primary/10">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <div class="flex flex-col md:flex-row justify-between items-center text-center md:text-left space-y-4 md:space-y-0">
                    <p class="text-sm text-gray-500 dark:text-gray-400">Â© 2024 DineEase. All rights reserved.</p>
                    <div class="flex space-x-6">
                        <a id="terms-link" class="text-sm text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors" href="#">Terms of Service</a>
                        <a id="privacy-link" class="text-sm text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors" href="#">Privacy Policy</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Login/Signup Modal -->
    <div id="login-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md relative">
            <button id="close-login-modal" class="absolute top-4 right-4 text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white text-2xl">&times;</button>
            
            <!-- Sign In Form -->
            <div id="sign-in-container">
                <h2 class="text-3xl font-bold text-center text-gray-800 dark:text-white">Sign In</h2>
                <form id="login-form" class="mt-6 space-y-6">
                    <div>
                        <label for="username" class="text-sm font-medium text-gray-700 dark:text-gray-300">Username</label>
                        <input type="text" id="username" name="username" required class="w-full px-4 py-2 mt-2 text-gray-900 bg-gray-50 dark:bg-gray-700 dark:text-white border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div>
                        <label for="password" class="text-sm font-medium text-gray-700 dark:text-gray-300">Password</label>
                        <input type="password" id="password" name="password" required class="w-full px-4 py-2 mt-2 text-gray-900 bg-gray-50 dark:bg-gray-700 dark:text-white border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <p id="login-error" class="text-red-400 text-sm hidden"></p>
                    <button type="submit" class="w-full btn bg-primary hover:bg-opacity-90 text-black">Login</button>
                </form>
            </div>

            <!-- Sign Up Form -->
            <div id="sign-up-container" class="mt-8 pt-6 border-t border-gray-200 dark:border-gray-700">
                 <h3 class="text-2xl font-bold text-center text-gray-800 dark:text-white">Create Account</h3>
                 <form id="signup-form" class="mt-6 space-y-4">
                     <div>
                         <label for="signup-username" class="text-sm font-medium text-gray-700 dark:text-gray-300">Username</label>
                         <input type="text" id="signup-username" required class="w-full px-4 py-2 mt-2 text-gray-900 bg-gray-50 dark:bg-gray-700 dark:text-white border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                     </div>
                     <div>
                         <label for="signup-password" class="text-sm font-medium text-gray-700 dark:text-gray-300">Password</label>
                         <input type="password" id="signup-password" required class="w-full px-4 py-2 mt-2 text-gray-900 bg-gray-50 dark:bg-gray-700 dark:text-white border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                     </div>
                     <div>
                        <label for="signup-role" class="text-sm font-medium text-gray-700 dark:text-gray-300">Role</label>
                        <select id="signup-role" required class="w-full px-4 py-2 mt-2 text-gray-900 bg-gray-50 dark:bg-gray-700 dark:text-white border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-primary">
                            <option value="waiter">Waiter</option>
                            <option value="kitchen">Kitchen</option>
                            <option value="cashier">Cashier</option>
                            <option value="admin">Admin</option>
                        </select>
                     </div>
                     <p id="signup-error" class="text-red-400 text-sm hidden"></p>
                     <button type="submit" class="w-full btn bg-primary hover:bg-opacity-90 text-black">Sign Up</button>
                 </form>
            </div>
        </div>
    </div>

    <!-- Support Modal -->
    <div id="support-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md relative">
            <button id="close-support-modal" class="absolute top-4 right-4 text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white text-2xl">&times;</button>
            <h2 class="text-3xl font-bold text-center text-gray-800 dark:text-white">Contact For Support</h2>
            <div class="mt-6 space-y-4 text-center text-gray-700 dark:text-gray-300">
                <p>AARON PHILIP - 23rr312</p>
                <p>ANOOP JOB AUGUSTIN - 23rr318</p>
                <p>ATHALIYA KISHORE - 23rr028</p>
                <p>ANJANA MANOJ - 23rr090</p>
            </div>
        </div>
    </div>

    <!-- Terms Modal -->
    <div id="terms-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md relative">
            <button id="close-terms-modal" class="absolute top-4 right-4 text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white text-2xl">&times;</button>
            <h2 class="text-3xl font-bold text-center text-gray-800 dark:text-white">Terms of Service</h2>
            <div class="mt-6 text-center text-gray-700 dark:text-gray-300">
                <p>NALLA TERMS ANNe</p>
            </div>
        </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div id="privacy-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-md relative">
            <button id="close-privacy-modal" class="absolute top-4 right-4 text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white text-2xl">&times;</button>
            <h2 class="text-3xl font-bold text-center text-gray-800 dark:text-white">Privacy Policy</h2>
            <div class="mt-6 text-center text-gray-700 dark:text-gray-300">
                <p>philp inte pa**</p>
            </div>
        </div>
    </div>


    <!-- Main Application Content (Initially Hidden) -->
    <div id="content" class="hidden">
        <header class="bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm p-4 flex justify-between items-center border-b border-primary/20 dark:border-primary/10">
            <div class="flex items-center space-x-6">
                <h1 class="text-2xl font-bold text-gray-900 dark:text-white">DineEase OMS</h1>
                <!-- Preview Switcher Buttons -->
                <div class="flex space-x-2" title="Dashboard Previews">
                    <button onclick="switchToPreview('waiter')" class="w-7 h-7 rounded-full bg-blue-500 hover:bg-blue-600 border-2 border-white shadow-md" title="Waiter"></button>
                    <button onclick="switchToPreview('kitchen')" class="w-7 h-7 rounded-full bg-yellow-500 hover:bg-yellow-600 border-2 border-white shadow-md" title="Kitchen"></button>
                    <button onclick="switchToPreview('cashier')" class="w-7 h-7 rounded-full bg-green-500 hover:bg-green-600 border-2 border-white shadow-md" title="Cashier"></button>
                    <button onclick="switchToPreview('admin')" class="w-7 h-7 rounded-full bg-gray-700 hover:bg-gray-800 border-2 border-white shadow-md" title="Admin"></button>
                </div>
            </div>
            <button id="logout-btn" class="px-4 py-2 text-base font-semibold text-white bg-red-600 rounded-lg hover:bg-opacity-90 transition-colors">Logout</button>
        </header>

        <div class="p-6">
            <!-- Admin Dashboard -->
            <div id="admin-dashboard" class="role-view hidden">
                <h2 class="text-3xl font-bold mb-4">Admin Dashboard</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Add Menu Item -->
                    <div class="bg-white dark:bg-background-dark/50 p-6 rounded-xl shadow">
                        <h3 class="text-xl font-semibold mb-4">Add New Menu Item</h3>
                        <form id="menu-form" class="space-y-4">
                            <div>
                                <label for="dish-name">Dish Name</label>
                                <input type="text" id="dish-name" required class="w-full p-2 border rounded mt-1 bg-background-light dark:bg-gray-700 border-gray-300 dark:border-gray-600">
                            </div>
                            <div>
                                <label for="dish-price">Price</label>
                                <input type="number" step="0.01" id="dish-price" required class="w-full p-2 border rounded mt-1 bg-background-light dark:bg-gray-700 border-gray-300 dark:border-gray-600">
                            </div>
                            <div>
                                <label for="dish-category">Category</label>
                                <input type="text" id="dish-category" required class="w-full p-2 border rounded mt-1 bg-background-light dark:bg-gray-700 border-gray-300 dark:border-gray-600" value="Main">
                            </div>
                            <button type="submit" class="px-8 py-3 font-bold text-black bg-primary rounded-lg hover:bg-opacity-90 transition-colors">Add Dish</button>
                        </form>
                    </div>
                    <!-- Menu List -->
                    <div class="bg-white dark:bg-background-dark/50 p-6 rounded-xl shadow">
                        <h3 class="text-xl font-semibold mb-4">Current Menu</h3>
                        <table id="menu-table" class="w-full">
                            <thead class="border-b border-gray-200 dark:border-gray-700">
                                <tr class="text-left">
                                    <th class="p-2">Name</th>
                                    <th class="p-2">Category</th>
                                    <th class="p-2">Price</th>
                                    <th class="p-2 text-right">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-menu-body">
                                <!-- JS will populate this -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Waiter Dashboard -->
            <div id="waiter-dashboard" class="role-view hidden">
                <h2 class="text-3xl font-bold mb-4">Waiter Dashboard</h2>
                <nav class="flex space-x-6 border-b border-primary/20 mb-6">
                    <a href="#" class="waiter-nav-btn py-2 nav-link" data-page="waiter-tables-view">Tables</a>
                    <a href="#" class="waiter-nav-btn py-2 nav-link" data-page="waiter-new-order-view">New Order</a>
                    <a href="#" class="waiter-nav-btn py-2 nav-link" data-page="waiter-orders-view">Active Orders</a>
                </nav>

                <!-- Waiter Pages -->
                <div id="waiter-tables-view" class="waiter-page">
                    <h3 class="text-2xl font-semibold mb-4">Table Status</h3>
                    <div class="bg-white dark:bg-background-dark/50 p-4 rounded-xl shadow">
                        <table class="w-full text-left">
                            <thead class="border-b border-gray-200 dark:border-gray-700">
                                <tr >
                                    <th class="p-4 text-sm font-semibold text-gray-600 dark:text-gray-400">Table Number</th>
                                    <th class="p-4 text-sm font-semibold text-gray-600 dark:text-gray-400">Status</th>
                                    <th class="p-4 text-sm font-semibold text-gray-600 dark:text-gray-400 text-right">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="tables-container-body">
                                <!-- JS will populate tables here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="waiter-new-order-view" class="waiter-page hidden">
                    <h3 class="text-2xl font-semibold mb-4">Create New Order</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white dark:bg-background-dark/50 p-6 rounded-xl shadow">
                            <h4 class="font-bold mb-2">Select Menu Items</h4>
                            <div id="menuItems" class="space-y-2 max-h-96 overflow-y-auto"></div>
                        </div>
                        <div class="bg-white dark:bg-background-dark/50 p-6 rounded-xl shadow">
                            <h4 class="font-bold mb-2">Order Summary</h4>
                            <div class="mb-4"> 
                                <label for="order-table-id-input">Table Number ID</label>
                                <input type="number" id="order-table-id-input" placeholder="Enter Table ID (e.g., 1)" class="w-full p-2 border rounded mt-1 bg-background-light dark:bg-gray-700 border-gray-300 dark:border-gray-600">
                            </div>
                            <div id="cart" class="space-y-1 text-sm mb-4"></div>
                            <div class="mb-4">
                                <label for="orderNotes">Order Notes</label>
                                <textarea id="orderNotes" class="w-full p-2 border rounded mt-1 bg-background-light dark:bg-gray-700 border-gray-300 dark:border-gray-600" placeholder="e.g., extra spicy, no onions"></textarea>
                            </div>
                            <button onclick="submitOrder()" class="w-full px-8 py-3 font-bold text-black bg-primary rounded-lg hover:bg-opacity-90 transition-colors">Submit Order</button>
                        </div>
                    </div>
                </div>

                <div id="waiter-orders-view" class="waiter-page hidden">
                    <h3 class="text-2xl font-semibold mb-4">Your Active Orders</h3>
                    <div class="bg-white dark:bg-background-dark/50 p-4 rounded-xl shadow">
                        <table class="w-full text-left">
                            <thead class="border-b border-gray-200 dark:border-gray-700">
                                <tr>
                                    <th class="p-4 text-sm font-semibold text-gray-600 dark:text-gray-400">Order ID</th>
                                    <th class="p-4 text-sm font-semibold text-gray-600 dark:text-gray-400">Table</th>
                                    <th class="p-4 text-sm font-semibold text-gray-600 dark:text-gray-400">Items</th>
                                    <th class="p-4 text-sm font-semibold text-gray-600 dark:text-gray-400">Status</th>
                                    <th class="p-4 text-sm font-semibold text-gray-600 dark:text-gray-400 text-right">Action</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTableBody">
                                <!-- JS will populate active orders here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Kitchen Dashboard -->
            <div id="kitchen-dashboard" class="role-view hidden">
                <h2 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">Kitchen Order System</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div>
                        <h3 class="text-xl font-semibold mb-4 pb-2 border-b-2 border-red-500">Pending</h3>
                        <div id="kitchen-pending" class="space-y-4"></div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4 pb-2 border-b-2 border-yellow-500">In Progress</h3>
                        <div id="kitchen-in-progress" class="space-y-4"></div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4 pb-2 border-b-2 border-green-500">Ready for Service</h3>
                        <div id="kitchen-ready" class="space-y-4"></div>
                    </div>
                </div>
            </div>

            <!-- Cashier Dashboard -->
            <div id="cashier-dashboard" class="role-view hidden">
                <h2 class="text-3xl font-bold mb-4">Cashier Dashboard</h2>
                <div id="cashier-records" class="cashier-page bg-white dark:bg-background-dark/50 p-6 rounded-xl shadow">
                    <h3 class="text-xl font-semibold mb-4">Payment Records</h3>
                    <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                        <thead class="bg-gray-50 dark:bg-gray-900/50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">Order ID</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">Table</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">Date</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">Total</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">Status</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase">Action</th>
                            </tr>
                        </thead>
                        <tbody id="records-body" class="bg-white dark:bg-background-dark/50 divide-y divide-gray-200 dark:divide-gray-700">
                            <!-- JS will populate records here -->
                        </tbody>
                    </table>
                </div>

                <div id="cashier-details" class="cashier-page hidden max-w-2xl mx-auto">
                    <button id="back-to-records" class="mb-4 text-primary hover:underline">&larr; Back to Records</button>
                    <div class="bg-white dark:bg-background-dark/50 p-8 rounded-xl shadow-lg">
                        <h3 class="text-2xl font-bold text-center mb-2">Bill Details</h3>
                        <div class="flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-6">
                            <span id="order-id-details"></span>
                            <span id="order-table-details"></span>
                            <span id="order-date-details"></span>
                        </div>
                        <table class="w-full mb-6">
                            <thead class="border-b border-gray-200 dark:border-gray-700">
                                <tr class="text-left">
                                    <th class="py-2 font-semibold">Item</th>
                                    <th class="py-2 text-right font-semibold">Price</th>
                                    <th class="py-2 text-right font-semibold">Total</th>
                                </tr>
                            </thead>
                            <tbody id="bill-items"></tbody>
                        </table>
                        <div id="bill-summary" class="space-y-2 mb-6"></div>
                        <div class="flex items-center space-x-4">
                            <label for="payment-status" class="font-semibold">Payment Status:</label>
                            <select id="payment-status" class="p-2 border rounded bg-background-light dark:bg-gray-700 border-gray-300 dark:border-gray-600">
                                <option value="Pending">Pending</option>
                                <option value="Done">Done</option>
                                <option value="Not Done">Not Done</option>
                            </select>
                            <button id="update-btn" class="w-full px-8 py-3 font-bold text-black bg-primary rounded-lg hover:bg-opacity-90 transition-colors">Update Status</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Waiter Table Modal -->
    <div id="tableModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
        <div class="bg-white dark:bg-background-dark/80 backdrop-blur-sm p-6 rounded-xl shadow-lg w-full max-w-sm border border-gray-200 dark:border-gray-800">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modalTableTitle" class="text-xl font-bold text-gray-900 dark:text-white"></h3>
                <button onclick="closeModal()" class="text-2xl text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white">&times;</button>
            </div>
            <div id="modalButtons" class="flex flex-col space-y-2">
                <!-- JS will populate buttons here -->
            </div>
        </div>
    </div>

    <!-- Admin Edit Menu Item Modal -->
    <div id="editMenuModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
        <div class="bg-white dark:bg-background-dark/80 backdrop-blur-sm p-6 rounded-xl shadow-lg w-full max-w-md border border-gray-200 dark:border-gray-800">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white">Edit Menu Item</h3>
                <button onclick="closeEditMenuModal()" class="text-2xl text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white">&times;</button>
            </div>
            <form id="edit-menu-form" class="space-y-4">
                <input type="hidden" id="edit-item-id">
                <div>
                    <label for="edit-dish-name">Dish Name</label>
                    <input type="text" id="edit-dish-name" required class="w-full p-2 border rounded mt-1 bg-background-light dark:bg-gray-700 border-gray-300 dark:border-gray-600">
                </div>
                <label for="edit-dish-category">Category</label>
                <input type="text" id="edit-dish-category" required class="w-full p-2 border rounded mt-1 bg-background-light dark:bg-gray-700 border-gray-300 dark:border-gray-600">
                <label for="edit-dish-price">Price</label>
                <input type="number" step="0.01" id="edit-dish-price" required class="w-full p-2 border rounded mt-1 bg-background-light dark:bg-gray-700 border-gray-300 dark:border-gray-600">
                <button type="submit" class="w-full btn bg-primary text-black">Save Changes</button>
            </form>
        </div>
    </div>

    <script>
        // --- CORE FUNCTIONS (Login/Logout/Page Switching) ---

        document.addEventListener('DOMContentLoaded', () => {
            // --- TEMPORARY: BYPASS LOGIN FOR PREVIEW ---
            // To show the homepage, comment out these lines
            // document.getElementById("homepage").classList.add("hidden");
            // document.getElementById("content").classList.remove("hidden");
            // switchToPreview('waiter'); // Set the initial preview
            
            // --- Modal Logic ---
            const loginModal = document.getElementById('login-modal');
            const showLoginBtn = document.getElementById('show-login-modal');
            const closeLoginBtn = document.getElementById('close-login-modal');

            if(showLoginBtn) {
                showLoginBtn.addEventListener('click', () => loginModal.classList.remove('hidden'));
            }
            if(closeLoginBtn) {
                closeLoginBtn.addEventListener('click', () => loginModal.classList.add('hidden'));
            }

            // --- Support Modal Logic ---
            const supportModal = document.getElementById('support-modal');
            const showSupportBtn = document.getElementById('show-support-modal');
            const closeSupportBtn = document.getElementById('close-support-modal');

            if(showSupportBtn) {
                showSupportBtn.addEventListener('click', () => supportModal.classList.remove('hidden'));
            }
            if(closeSupportBtn) {
                closeSupportBtn.addEventListener('click', () => supportModal.classList.add('hidden'));
            }

            // --- Footer Links Logic ---
            const termsModal = document.getElementById('terms-modal');
            const privacyModal = document.getElementById('privacy-modal');
            const termsLink = document.getElementById('terms-link');
            const privacyLink = document.getElementById('privacy-link');
            const closeTermsBtn = document.getElementById('close-terms-modal');
            const closePrivacyBtn = document.getElementById('close-privacy-modal');

            if (termsLink) {
                termsLink.addEventListener('click', (e) => { e.preventDefault(); termsModal.classList.remove('hidden'); });
            }
            if (privacyLink) {
                privacyLink.addEventListener('click', (e) => { e.preventDefault(); privacyModal.classList.remove('hidden'); });
            }
            if (closeTermsBtn) {
                closeTermsBtn.addEventListener('click', () => termsModal.classList.add('hidden'));
            }
            if (closePrivacyBtn) {
                closePrivacyBtn.addEventListener('click', () => privacyModal.classList.add('hidden'));
            }

            // --- Original Login Setup (commented out) ---
            const loginForm = document.getElementById('login-form');
            if(loginForm) {
                loginForm.addEventListener('submit', handleLogin);
            }
            const logoutBtn = document.getElementById('logout-btn');
            if(logoutBtn) {
                logoutBtn.addEventListener('click', logout);
            }
        });

        async function handleLogin(e) {
            e.preventDefault();
            const username = document.getElementById("username").value; 
            const password = document.getElementById("password").value;
            const errorMsg = document.getElementById("login-error");
            errorMsg.classList.add('hidden');

            try {
                const response = await fetch('api/auth.php', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ username, password })
                });

                const data = await response.json();

                if (data.success) {
                    const role = data.role;
                    document.getElementById("homepage").classList.add("hidden");
                    document.getElementById("login-modal").classList.add("hidden");
                    document.getElementById("content").classList.remove("hidden");
                    document.getElementById(`${role}-dashboard`).classList.remove("hidden");
                    
                    initDashboard(role);
                } else {
                    errorMsg.innerText = data.message || "Invalid username or password.";
                    errorMsg.classList.remove('hidden');
                }
            } catch (error) {
                console.error('Login failed:', error);
                errorMsg.innerText = "Connection error. Could not reach server.";
                errorMsg.classList.remove('hidden');
            }
        }

        function switchToPreview(role) {
            console.log(`Switching to ${role} preview.`);
            // Hide all role-specific dashboards
            document.querySelectorAll('.role-view').forEach(view => {
                view.classList.add('hidden');
            });

            // Show the selected role's dashboard
            const dashboard = document.getElementById(`${role}-dashboard`);
            if (dashboard) {
                dashboard.classList.remove('hidden');
            }

            // Initialize the dashboard to load its specific data
            initDashboard(role);
        }

        function initDashboard(role) {
            // This function acts as a router to call the correct initializer
            // based on the user's role from the server.
            if (role === 'admin') {
                initAdmin();
            } else if (role === 'waiter') {
                initWaiter();
            } else if (role === 'kitchen') {
                initKitchen();
            } else if (role === 'cashier') {
                initCashier();
            }
        }

        function logout() {
            fetch('api/auth_logout.php', { method: 'POST' })
                .then(() => {
                    // This forces a full page reload, clearing all state.
                    window.location.reload();
                });
        }
    </script>
    <script src="script.js"></script>
</body>
</html>
